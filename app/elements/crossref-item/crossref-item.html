<link rel="import" href="../../../bower_components/polymer/polymer.html">

<dom-module id="crossref-item">
  <link rel="import" type="css" href="crossref-item.css">

  <template>
    <div class="article" selected$="{{article.selected}}">
      <div class="title">{{article.title}}</div>

      <div class="authors">
        <template is="dom-repeat" items="{{article.author}}" as="author"><span><span>{{author.family}}</span> <span>{{author.given}}</span></span></template>
      </div>

      <div>
        <span class="date">{{computeDate(article)}}</span>Â·
        <span class="journal">{{computeJournal(article)}}</span>
      </div>
    </div>
  </template>
</dom-module>
<script>
  Polymer({
    is: 'crossref-item',
    properties: {
      doi: { reflectToAttribute: true },
      style: { reflectToAttribute: true },
      article: { notify: true },
      mimetype: { notify: true },
      selected: { notify: true }
    },
    computeDate: function(article) {
      return article.issued['date-parts'][0][0];
    },
    computeJournal: function(article) {
      return article['container-title'];
    }
  });
</script>
